name: automation-tools-build

####################################################################
## Triggers
####################################################################
on: 
 push:
   branches:
    - main

####################################################################
## Variables
####################################################################
env:
  INFRASTRUCTURE_DIRECTORY: infrastructure

####################################################################
## Job
####################################################################
jobs:
  build:
    runs-on: ubuntu-latest
    steps: 
    ####################################################################
    ## Checkout source code
    ####################################################################
    - name: Checking out source code
      uses: actions/checkout@v3
    ####################################################################
    ## Create a pipeline artifact with infrastructure code
    ####################################################################
    - name: Uploading infra directory
      uses: actions/upload-artifact@v3
      with:
        name: ${{ env.INFRASTRUCTURE_DIRECTORY }}
        path: ${{ env.INFRASTRUCTURE_DIRECTORY }}
